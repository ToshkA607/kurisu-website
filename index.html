<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Макисэ Курису - Гений-нейробиолог | Лаборатория Будущего</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Глобальные стили и переменные */
        :root {
            --primary: #c62828;
            --primary-dark: #8e0000;
            --primary-light: #ff5f52;
            --secondary: #1a237e;
            --secondary-dark: #000051;
            --secondary-light: #534bae;
            --accent: #f44336;
            --text: #f5f5f5;
            --text-secondary: #bdbdbd;
            --bg-dark: #0a0a12;
            --bg-card: #151522;
            --lab-green: #00e676;
            --lab-blue: #2979ff;
            --timeline-blue: #00e5ff;
            --timeline-glow: #00b8d4;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Noto Sans', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(198, 40, 40, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(26, 35, 126, 0.05) 0%, transparent 20%);
        }
        
        /* Стили для эффекта фейерверка */
        .firework {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
        }
        
        .particle {
            position: fixed;
            pointer-events: none;
            border-radius: 50%;
            z-index: 9998;
        }
        
        /* Анимации */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        @keyframes textShine {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes nodePulse {
            0%, 100% {
                transform: translateY(-50%) scale(1);
                box-shadow: 
                    0 0 0 0 rgba(0, 229, 255, 0.7),
                    0 0 15px var(--timeline-blue);
            }
            50% {
                transform: translateY(-50%) scale(1.2);
                box-shadow: 
                    0 0 0 8px rgba(0, 229, 255, 0),
                    0 0 25px var(--timeline-blue);
            }
        }
        
        @keyframes glow {
            0%, 100% {
                filter: drop-shadow(0 0 5px var(--timeline-blue));
            }
            50% {
                filter: drop-shadow(0 0 15px var(--timeline-blue)) drop-shadow(0 0 25px var(--timeline-glow));
            }
        }
        
        @keyframes pulseFlow {
            0% {
                top: -100px;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                top: 100%;
                opacity: 0;
            }
        }

        @keyframes contentSlideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1) rotate(0deg);
            }
            50% {
                transform: scale(1.1) rotate(180deg);
            }
        }

        @keyframes scanLine {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }

        @keyframes dataStream {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(-100%);
            }
        }
        
        /* Анимации для вкладок достижений */
        @keyframes tabSlideDown {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes contentExpand {
            from {
                max-height: 0;
                opacity: 0;
                transform: scaleY(0.9);
            }
            to {
                max-height: 800px;
                opacity: 1;
                transform: scaleY(1);
            }
        }
        
        @keyframes bloodPulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(198, 40, 40, 0.4);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(198, 40, 40, 0);
            }
        }

        /* Элементы интерфейса */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }
        
        section {
            padding: 60px 0;
            position: relative;
        }
        
        .section-title {
            font-size: 2.5rem;
            margin-bottom: 3rem;
            position: relative;
            display: inline-block;
            text-align: center;
            width: 100%;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--lab-blue));
            border-radius: 2px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(198, 40, 40, 0.3);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .btn:hover::after {
            left: 100%;
        }
        
        /* Навигация */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(10, 10, 18, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 20px;
            width: 100%;
        }
        
        /* Навигационные ссылки */
        .nav-links {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            flex-wrap: nowrap;
            justify-content: center;
            width: 100%;
        }
        
        .nav-links li {
            margin: 0 10px;
        }
        
        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
            font-size: 1rem;
            white-space: nowrap;
            padding: 5px 0;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        /* Герой секция */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding-top: 80px;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(198, 40, 40, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(41, 121, 255, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        .hero-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .hero-content {
            max-width: 600px;
            animation: slideInLeft 1s ease-out;
            z-index: 2;
        }
        
        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            line-height: 1.2;
        }
        
        .hero-title .glitch {
            position: relative;
            display: inline-block;
        }
        
        .hero-title .glitch::before,
        .hero-title .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .hero-title .glitch::before {
            left: 2px;
            text-shadow: -2px 0 var(--lab-blue);
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch 3s infinite linear alternate-reverse;
        }
        
        .hero-title .glitch::after {
            left: -2px;
            text-shadow: -2px 0 var(--primary);
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch 2s infinite linear alternate-reverse;
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: var(--text-secondary);
        }
        
        .hero-image {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 50%;
            max-width: 600px;
            animation: float 6s ease-in-out infinite;
            text-align: center;
            z-index: 1;
        }
        
        .hero-character {
            width: 100%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            animation: float 6s ease-in-out infinite;
        }
        
        .hero-bg-element {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            opacity: 0.1;
            top: 10%;
            right: 20%;
            animation: pulse 4s ease-in-out infinite;
        }
        
        /* Секция "О персонаже" */
        .about {
            background-color: var(--bg-card);
            position: relative;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }
        
        .about-text {
            animation: slideInLeft 1s ease-out;
        }
        
        .about-image {
            text-align: center;
            animation: slideInRight 1s ease-out;
        }
        
        .about-image img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* =========================================== */
        /* СЕКЦИЯ "НАУЧНЫЕ ДОСТИЖЕНИЯ" */
        /* =========================================== */
        .achievements {
            background: linear-gradient(135deg, rgba(10, 10, 18, 0.95), rgba(21, 21, 34, 0.98));
            position: relative;
            overflow: hidden;
        }
        
        .achievements::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(198, 40, 40, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(41, 121, 255, 0.1) 0%, transparent 40%);
            z-index: 0;
        }
        
        .tabs-wrapper {
            display: flex;
            flex-direction: column;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .tabs-header {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 10px;
        }
        
        .tab-btn {
            width: 100%;
            height: 380px;
            aspect-ratio: 2/3;
            background: linear-gradient(145deg, rgba(21, 21, 34, 0.9), rgba(10, 10, 18, 0.95));
            color: var(--text);
            border: 2px solid rgba(198, 40, 40, 0.3);
            padding: 35px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            border-radius: 12px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .tab-btn:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 
                0 20px 40px rgba(198, 40, 40, 0.3),
                0 0 40px rgba(198, 40, 40, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .tab-btn.active {
            background: linear-gradient(145deg, rgba(198, 40, 40, 0.15), rgba(142, 0, 0, 0.25));
            border-color: var(--primary);
            box-shadow: 
                0 15px 40px rgba(198, 40, 40, 0.4),
                0 0 50px rgba(198, 40, 40, 0.3),
                inset 0 0 25px rgba(255, 95, 82, 0.1);
            transform: translateY(-8px);
        }
        
        .tab-btn.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            animation: pulse 2s infinite;
        }
        
        .tab-btn-icon {
            font-size: 3.5rem;
            color: var(--primary);
            transition: all 0.3s ease;
            margin-bottom: 25px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tab-btn.active .tab-btn-icon {
            color: var(--primary-light);
            animation: float 3s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255, 95, 82, 0.5);
        }
        
        .tab-btn-title {
            font-size: 1.4rem;
            color: var(--text);
            line-height: 1.3;
            font-weight: 700;
            margin-bottom: 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tab-btn.active .tab-btn-title {
            text-shadow: 0 0 15px rgba(255, 95, 82, 0.5);
        }
        
        .tab-btn-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 100%;
        }
        
        .tab-btn-description {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 8;
            -webkit-box-orient: vertical;
            overflow: hidden;
            transition: all 0.3s ease;
            padding: 0 5px;
        }
        
        .tab-btn:hover .tab-btn-description {
            color: var(--text);
        }
        
        .tab-btn.active .tab-btn-description {
            color: var(--text);
        }
        
        .tab-btn::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                transparent, 
                transparent, 
                rgba(198, 40, 40, 0.1), 
                transparent, 
                transparent);
            border-radius: 14px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .tab-btn.active::after {
            opacity: 1;
            animation: rotateGradient 3s linear infinite;
        }
        
        /* МОДАЛЬНОЕ ОКНО */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            max-height: 700px;
            background: linear-gradient(135deg, rgba(21, 21, 34, 0.98), rgba(10, 10, 18, 0.99));
            border-radius: 20px;
            border: 2px solid rgba(198, 40, 40, 0.4);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.8),
                0 0 80px rgba(198, 40, 40, 0.4),
                inset 0 0 50px rgba(255, 255, 255, 0.1);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
        }
        
        .modal-content.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .modal-header {
            padding: 25px 40px;
            background: linear-gradient(90deg, rgba(198, 40, 40, 0.2), transparent);
            border-bottom: 1px solid rgba(198, 40, 40, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 2.2rem;
            color: var(--primary);
            text-shadow: 0 0 20px rgba(198, 40, 40, 0.5);
            margin: 0;
        }
        
        .close-modal {
            background: rgba(198, 40, 40, 0.2);
            border: 2px solid rgba(198, 40, 40, 0.4);
            color: var(--text);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal:hover {
            background: rgba(198, 40, 40, 0.4);
            transform: rotate(90deg);
            box-shadow: 0 0 20px rgba(198, 40, 40, 0.5);
        }
        
        .modal-body {
            padding: 40px;
            flex: 1;
            overflow-y: auto;
        }
        
        .tab-content-inner {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .modal-content.active .tab-content-inner {
            opacity: 1;
            transform: translateY(0);
        }
        
        .achievement-details {
            padding-right: 20px;
        }
        
        .achievement-description {
            margin-bottom: 30px;
            line-height: 1.8;
            font-size: 1.15rem;
            color: var(--text-secondary);
        }
        
        .achievement-features {
            list-style: none;
        }
        
        .achievement-features li {
            margin-bottom: 18px;
            padding-left: 35px;
            position: relative;
            line-height: 1.6;
        }
        
        .achievement-features li::before {
            content: '›';
            position: absolute;
            left: 0;
            color: var(--lab-blue);
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(41, 121, 255, 0.5);
        }
        
        .achievement-visual {
            text-align: center;
            position: relative;
        }
        
        .achievement-visual img {
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(198, 40, 40, 0.2);
            border: 2px solid rgba(198, 40, 40, 0.4);
            transition: transform 0.5s ease;
        }
        
        .achievement-visual img:hover {
            transform: scale(1.02);
        }
        
        /* ОБНОВЛЕННЫЙ СТИЛЬ ДЛЯ ПОДПИСЕЙ ИЗОБРАЖЕНИЙ */
        .visual-label {
            margin-top: 15px;
            background: rgba(10, 10, 18, 0.85);
            padding: 12px 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            color: var(--lab-blue);
            text-shadow: 0 0 10px rgba(0, 229, 255, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(0, 229, 255, 0.3);
            backdrop-filter: blur(5px);
            text-align: center;
            width: 100%;
        }
        
        /* Анимации для модального окна */
        @keyframes rotateGradient {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes buttonPress {
            0% {
                transform: translateY(-8px) scale(1);
            }
            50% {
                transform: translateY(-8px) scale(0.95);
            }
            100% {
                transform: translateY(-8px) scale(1);
            }
        }
        
        /* Секция "Временная линия" */
        .timeline-section {
            background: linear-gradient(135deg, rgba(10, 10, 18, 0.85), rgba(21, 21, 34, 0.9));
            position: relative;
            overflow: hidden;
            padding: 60px 0;
        }
        
        #raindrop-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        .timeline-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 18, 0.7);
            z-index: 1;
        }
        
        .timeline-content {
            position: relative;
            z-index: 2;
        }
        
        .timeline {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            padding: 50px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 6px;
            background: linear-gradient(
                to bottom,
                transparent,
                var(--timeline-blue),
                var(--timeline-glow),
                var(--timeline-blue),
                transparent
            );
            transform: translateX(-50%);
            border-radius: 10px;
            box-shadow: 
                0 0 40px var(--timeline-blue),
                0 0 80px var(--timeline-glow),
                inset 0 0 20px rgba(0, 229, 255, 0.3);
            animation: glow 3s ease-in-out infinite;
            z-index: 2;
        }
        
        .timeline-pulse {
            position: absolute;
            left: 50%;
            top: 0;
            width: 8px;
            height: 150px;
            background: linear-gradient(
                to bottom,
                transparent,
                var(--timeline-blue),
                var(--timeline-glow),
                var(--timeline-blue),
                transparent
            );
            transform: translateX(-50%);
            animation: pulseFlow 8s ease-in-out infinite;
            border-radius: 10px;
            filter: blur(3px);
            z-index: 3;
            box-shadow: 0 0 50px var(--timeline-blue);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 100px;
            width: 50%;
            padding: 0 40px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
        }
        
        .timeline-item:nth-child(even) {
            left: 50%;
        }
        
        .timeline-btn {
            background: linear-gradient(135deg, rgba(21, 21, 34, 0.85), rgba(10, 10, 18, 0.9));
            padding: 35px;
            border-radius: 20px;
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.6),
                0 0 40px rgba(0, 229, 255, 0.25),
                inset 0 0 20px rgba(255, 255, 255, 0.05);
            position: relative;
            border: 1px solid rgba(0, 229, 255, 0.4);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            overflow: hidden;
            backdrop-filter: blur(10px);
            cursor: pointer;
            width: 100%;
            text-align: left;
            border: none;
            color: inherit;
            font-size: inherit;
        }
        
        .timeline-btn:hover {
            transform: translateY(-15px) translateZ(50px);
            box-shadow: 
                0 25px 60px rgba(0, 0, 0, 0.7),
                0 0 70px rgba(0, 229, 255, 0.4),
                inset 0 0 30px rgba(0, 229, 255, 0.15);
            border-color: var(--timeline-blue);
        }
        
        .timeline-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--timeline-blue), transparent);
            animation: pulse 2s infinite;
        }
        
        .timeline-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--timeline-blue), var(--timeline-glow));
            border: 4px solid var(--bg-dark);
            animation: nodePulse 2s ease-in-out infinite;
            box-shadow: 
                0 0 0 0 rgba(0, 229, 255, 0.9),
                0 0 30px var(--timeline-blue),
                0 0 50px rgba(0, 229, 255, 0.4);
            transform: translateY(-50%);
            z-index: 4;
        }
        
        .timeline-item:nth-child(odd) .timeline-btn::after {
            right: -52px;
        }
        
        .timeline-item:nth-child(even) .timeline-btn::after {
            left: -52px;
        }
        
        .timeline-date {
            color: var(--timeline-blue);
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 20px rgba(0, 229, 255, 0.8);
            font-size: 1.2rem;
            position: relative;
            padding-left: 35px;
            transform: translateZ(30px);
        }
        
        .timeline-date i {
            margin-right: 15px;
            animation: glow 2s ease-in-out infinite;
            position: absolute;
            left: 0;
            font-size: 1.3rem;
            color: var(--timeline-blue);
        }
        
        .timeline-text {
            color: var(--text);
            line-height: 1.7;
            font-size: 1.1rem;
            position: relative;
            z-index: 2;
            transform: translateZ(20px);
            transition: transform 0.3s;
        }
        
        .timeline-btn:hover .timeline-text {
            transform: translateZ(50px);
        }
        
        .world-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
        }
        
        .world-line {
            position: absolute;
            color: var(--lab-green);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--lab-green);
            animation: fadeIn 1s;
        }
        
        /* МОДАЛЬНОЕ ОКНО ДЛЯ ВРЕМЕННОЙ ЛИНИИ */
        .timeline-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .timeline-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .timeline-modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-width: 1000px;
            height: 85vh;
            max-height: 700px;
            background: linear-gradient(135deg, rgba(21, 21, 34, 0.98), rgba(10, 10, 18, 0.99));
            border-radius: 20px;
            border: 2px solid rgba(0, 229, 255, 0.4);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.8),
                0 0 80px rgba(0, 229, 255, 0.4),
                inset 0 0 50px rgba(255, 255, 255, 0.1);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
        }
        
        .timeline-modal-content.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .timeline-modal-header {
            padding: 25px 40px;
            background: linear-gradient(90deg, rgba(0, 229, 255, 0.2), transparent);
            border-bottom: 1px solid rgba(0, 229, 255, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .timeline-modal-title {
            font-size: 2rem;
            color: var(--timeline-blue);
            text-shadow: 0 0 20px rgba(0, 229, 255, 0.5);
            margin: 0;
            font-family: 'Courier New', monospace;
        }
        
        .timeline-close-modal {
            background: rgba(0, 229, 255, 0.2);
            border: 2px solid rgba(0, 229, 255, 0.4);
            color: var(--text);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .timeline-close-modal:hover {
            background: rgba(0, 229, 255, 0.4);
            transform: rotate(90deg);
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.5);
        }
        
        .timeline-modal-body {
            padding: 40px;
            flex: 1;
            overflow-y: auto;
        }
        
        .timeline-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .timeline-modal-content.active .timeline-details {
            opacity: 1;
            transform: translateY(0);
        }
        
        .timeline-description {
            padding-right: 20px;
        }
        
        .timeline-full-description {
            margin-bottom: 30px;
            line-height: 1.8;
            font-size: 1.15rem;
            color: var(--text-secondary);
        }
        
        .timeline-features {
            list-style: none;
            margin-top: 30px;
        }
        
        .timeline-features li {
            margin-bottom: 18px;
            padding-left: 35px;
            position: relative;
            line-height: 1.6;
        }
        
        .timeline-features li::before {
            content: '›';
            position: absolute;
            left: 0;
            color: var(--timeline-blue);
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
        }
        
        .timeline-visual {
            text-align: center;
            position: relative;
        }
        
        .timeline-visual img {
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 229, 255, 0.2);
            border: 2px solid rgba(0, 229, 255, 0.4);
            transition: transform 0.5s ease;
        }
        
        .timeline-visual img:hover {
            transform: scale(1.02);
        }
        
        /* Стиль для подписей изображений в мировых линиях */
        .timeline-visual-label {
            margin-top: 15px;
            background: rgba(10, 10, 18, 0.85);
            padding: 12px 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            color: var(--timeline-blue);
            text-shadow: 0 0 10px rgba(0, 229, 255, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(0, 229, 255, 0.3);
            backdrop-filter: blur(5px);
            text-align: center;
            width: 100%;
        }
        
        /* Секция "Галерея" */
        .gallery {
            background: var(--bg-card);
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .gallery-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            height: 250px;
            background: var(--bg-dark);
            transition: all 0.3s ease;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(198, 40, 40, 0.3);
        }
        
        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .gallery-item:hover .gallery-img {
            transform: scale(1.1);
        }
        
        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 18, 0.8);
            padding: 15px;
            transform: translateY(100%);
            transition: transform 0.3s;
        }
        
        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }
        
        /* =========================================== */
        /* СЕКЦИЯ С ПЛЕЕРОМ СЕРИЙ - ИСПРАВЛЕННАЯ */
        /* =========================================== */
        .episodes-section {
            padding: 60px 0;
            background: var(--bg-dark);
            position: relative;
        }
        
        .episodes-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .episodes-title {
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: var(--primary);
            text-align: center;
        }
        
        .episodes-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        
        .episode-player {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border: 2px solid var(--primary);
            background: #000;
            width: 100%;
            height: 550px; /* Увеличили высоту для ПК */
        }
        
        /* УЛУЧШЕННЫЙ СТИЛЬ ДЛЯ IFRAME GOOGLE DRIVE */
        .video-iframe-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .video-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: #000;
        }
        
        /* Скрываем все элементы управления Google Drive */
        .video-iframe iframe {
            width: 100%;
            height: 100%;
            border: none;
            pointer-events: auto; /* Включаем взаимодействие */
        }
        
        /* Скрываем элементы управления средствами CSS */
        .video-iframe iframe::-webkit-media-controls {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-enclosure {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-panel {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-play-button {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-volume-slider {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-mute-button {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-timeline {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-current-time-display {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-time-remaining-display {
            display: none !important;
        }
        
        .video-iframe iframe::-webkit-media-controls-fullscreen-button {
            display: none !important;
        }
        
        /* Для Firefox */
        .video-iframe iframe::-moz-media-controls {
            display: none !important;
        }
        
        .episodes-list {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            max-height: 550px; /* Синхронизировали высоту с плеером */
            overflow-y: auto;
        }
        
        .episodes-list-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary);
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .episode-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        
        .episode-item:hover:not(.disabled) {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        
        .episode-item.active {
            background: rgba(198, 40, 40, 0.2);
            border-left: 3px solid var(--primary);
        }
        
        .episode-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .episode-number {
            font-weight: bold;
            color: var(--primary);
            margin-right: 10px;
        }
        
        .episode-name {
            color: var(--text);
            font-weight: 500;
        }
        
        .episode-duration {
            color: var(--text-secondary);
            font-size: 0.8rem;
            margin-top: 5px;
        }
        
        .video-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 18, 0.9);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        
        .loading-spinner {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Футер */
        footer {
            background: var(--bg-card);
            padding: 60px 0 30px;
            text-align: center;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .lab-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 20px;
            border-radius: 30px;
            margin: 20px 0;
            border: 1px solid var(--primary);
            font-family: 'Courier New', monospace;
        }
        
        .el-psy-congroo {
            font-family: 'Courier New', monospace;
            margin-top: 30px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Бинарный фон */
        .binary-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }
        
        /* Частицы */
        .particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }

        /* =========================================== */
        /* АДАПТИВНОСТЬ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ */
        /* =========================================== */
        
        @media (max-width: 1200px) {
            .tabs-header {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            
            .tab-btn {
                height: 350px;
                padding: 30px 20px;
            }
            
            .tab-btn-title {
                font-size: 1.3rem;
            }
            
            .tab-btn-description {
                -webkit-line-clamp: 7;
            }
            
            .modal-content {
                max-height: 80vh;
            }
            
            .episodes-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .episodes-list {
                max-height: 300px;
            }
            
            /* Увеличиваем плеер на средних экранах */
            .episode-player {
                height: 500px;
            }
        }
        
        @media (max-width: 992px) {
            .tab-content-inner {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .achievement-details {
                padding-right: 0;
            }
            
            .tab-btn {
                height: 320px;
                padding: 25px 18px;
            }
            
            .tab-btn-title {
                font-size: 1.25rem;
                height: 55px;
            }
            
            .tab-btn-icon {
                font-size: 3.2rem;
                margin-bottom: 20px;
                height: 70px;
            }
            
            .tab-btn-description {
                font-size: 0.95rem;
                -webkit-line-clamp: 6;
            }
            
            .modal-body {
                padding: 30px;
            }
            
            .modal-header {
                padding: 20px 30px;
            }
            
            .modal-title {
                font-size: 1.8rem;
            }
            
            .timeline::before {
                left: 30px;
            }
            
            .timeline-pulse {
                left: 30px;
            }
            
            .timeline-item {
                width: 100%;
                left: 0 !important;
                padding-left: 80px;
                padding-right: 20px;
            }
            
            .timeline-btn::after {
                left: -52px !important;
                right: auto !important;
            }
            
            .timeline-details {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .timeline-description {
                padding-right: 0;
            }
            
            /* Адаптация для мобильных */
            .hero-container {
                flex-direction: column;
                justify-content: center;
                text-align: center;
                padding-top: 60px;
            }
            
            .hero-content {
                max-width: 100%;
                margin-bottom: 40px;
                padding: 0 20px;
            }
            
            .hero-image {
                position: relative;
                width: 100%;
                max-width: 500px;
                margin: 0 auto;
                top: auto;
                transform: none;
                right: auto;
            }
            
            .hero-bg-element {
                display: none;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
            
            .hero-subtitle {
                font-size: 1.3rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .about-image {
                order: -1;
            }
            
            /* Оптимизация плеера для планшетов */
            .episode-player {
                height: 450px;
            }
        }
        
        @media (max-width: 768px) {
            section {
                padding: 50px 0;
            }
            
            .section-title {
                font-size: 2rem;
                margin-bottom: 2rem;
            }
            
            .tabs-header {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .tab-btn {
                height: 280px;
                padding: 22px 15px;
                max-width: 400px;
                margin: 0 auto;
            }
            
            .tab-btn-icon {
                font-size: 3rem;
                margin-bottom: 18px;
                height: 65px;
            }
            
            .tab-btn-title {
                font-size: 1.2rem;
                height: 50px;
                margin-bottom: 15px;
            }
            
            .tab-btn-description {
                font-size: 0.9rem;
                -webkit-line-clamp: 5;
            }
            
            .modal-content {
                width: 95%;
                height: 90vh;
                max-height: none;
            }
            
            .modal-title {
                font-size: 1.6rem;
            }
            
            .achievement-description {
                font-size: 1.1rem;
            }
            
            /* Навигация для мобильных */
            .nav-links {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .nav-links li {
                margin: 0 5px;
            }
            
            .nav-links a {
                font-size: 0.9rem;
                padding: 8px 5px;
            }
            
            .hero {
                height: auto;
                min-height: 100vh;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .hero-character {
                max-width: 400px;
            }
            
            .stats {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .stat-item {
                padding: 15px;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .gallery-item {
                height: 200px;
            }
            
            .timeline-item {
                padding-left: 60px;
                margin-bottom: 60px;
            }
            
            .timeline-btn {
                padding: 25px;
            }
            
            .timeline-date {
                font-size: 1.1rem;
            }
            
            .timeline-text {
                font-size: 1rem;
            }
            
            .timeline-modal-content {
                width: 95%;
                height: 90vh;
                max-height: none;
            }
            
            .timeline-modal-title {
                font-size: 1.6rem;
            }
            
            .timeline-modal-body {
                padding: 30px;
            }
            
            .timeline-modal-header {
                padding: 20px 30px;
            }
            
            /* ОСНОВНОЕ ИЗМЕНЕНИЕ: УВЕЛИЧИВАЕМ ПЛЕЕР ДЛЯ МОБИЛЬНЫХ */
            .episode-player {
                height: 380px; /* Увеличенная высота для мобильных */
                margin-bottom: 20px;
            }
            
            .episodes-content {
                gap: 20px;
            }
            
            .episodes-list {
                max-height: 350px;
            }
            
            /* Улучшаем отображение iframe на мобильных */
            .video-iframe {
                transform: scale(1); /* Отключаем масштабирование */
            }
        }
        
        @media (max-width: 576px) {
            .container {
                padding: 0 15px;
            }
            
            section {
                padding: 40px 0;
            }
            
            .section-title {
                font-size: 1.8rem;
                margin-bottom: 1.5rem;
            }
            
            .nav-links {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 5px;
            }
            
            .nav-links li {
                margin: 0;
                text-align: center;
            }
            
            .nav-links a {
                font-size: 0.85rem;
                padding: 8px 3px;
                display: block;
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .btn {
                padding: 10px 25px;
                font-size: 0.9rem;
            }
            
            .tabs-header {
                gap: 15px;
            }
            
            .tab-btn {
                height: 250px;
                padding: 20px 15px;
            }
            
            .tab-btn-icon {
                font-size: 2.5rem;
                margin-bottom: 15px;
                height: 50px;
            }
            
            .tab-btn-title {
                font-size: 1.1rem;
                height: 40px;
                margin-bottom: 10px;
            }
            
            .tab-btn-description {
                font-size: 0.85rem;
                -webkit-line-clamp: 4;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .modal-header {
                padding: 15px 20px;
            }
            
            .modal-title {
                font-size: 1.4rem;
            }
            
            .close-modal {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .achievement-description {
                font-size: 1rem;
            }
            
            .achievement-features li {
                font-size: 0.9rem;
                padding-left: 30px;
                margin-bottom: 12px;
            }
            
            .stats {
                gap: 10px;
            }
            
            .stat-item {
                padding: 12px;
            }
            
            .stat-value {
                font-size: 1.6rem;
            }
            
            .stat-label {
                font-size: 0.8rem;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .gallery-item {
                height: 250px;
            }
            
            .timeline-item {
                padding-left: 50px;
                margin-bottom: 50px;
            }
            
            .timeline-btn {
                padding: 20px;
            }
            
            .timeline-btn::after {
                left: -45px !important;
                width: 20px;
                height: 20px;
            }
            
            .timeline-date {
                font-size: 1rem;
                padding-left: 30px;
            }
            
            .timeline-text {
                font-size: 0.95rem;
            }
            
            .timeline-modal-body {
                padding: 20px;
            }
            
            .timeline-modal-header {
                padding: 15px 20px;
            }
            
            .timeline-modal-title {
                font-size: 1.4rem;
            }
            
            .timeline-close-modal {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            /* ДАЛЬНЕЙШЕЕ УВЕЛИЧЕНИЕ ПЛЕЕРА ДЛЯ МАЛЕНЬКИХ ЭКРАНОВ */
            .episode-player {
                height: 320px; /* Еще больше для маленьких экранов */
            }
            
            .episodes-list {
                max-height: 300px;
            }
            
            .episode-item {
                padding: 10px 12px;
            }
            
            .episode-name {
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 375px) {
            .hero-title {
                font-size: 1.8rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .nav-links {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nav-links li:nth-child(5) {
                grid-column: span 2;
                margin-top: 5px;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .tab-btn {
                height: 230px;
                padding: 15px 12px;
            }
            
            .tab-btn-icon {
                font-size: 2.2rem;
            }
            
            .tab-btn-title {
                font-size: 1rem;
            }
            
            .timeline-btn {
                padding: 15px;
            }
            
            .timeline-date {
                font-size: 0.9rem;
            }
            
            .timeline-text {
                font-size: 0.9rem;
            }
            
            /* МАКСИМАЛЬНАЯ ВЫСОТА ПЛЕЕРА ДЛЯ ОЧЕНЬ МАЛЕНЬКИХ ЭКРАНОВ */
            .episode-player {
                height: 280px;
            }
        }
        
        /* Стили для скроллбара */
        .modal-body::-webkit-scrollbar,
        .timeline-modal-body::-webkit-scrollbar,
        .episodes-list::-webkit-scrollbar {
            width: 8px;
        }
        
        .modal-body::-webkit-scrollbar-track {
            background: rgba(198, 40, 40, 0.1);
            border-radius: 4px;
        }
        
        .modal-body::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--primary), var(--primary-dark));
            border-radius: 4px;
        }
        
        .modal-body::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, var(--primary-light), var(--primary));
        }
        
        .timeline-modal-body::-webkit-scrollbar-track {
            background: rgba(0, 229, 255, 0.1);
            border-radius: 4px;
        }
        
        .timeline-modal-body::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--timeline-blue), var(--timeline-glow));
            border-radius: 4px;
        }
        
        .timeline-modal-body::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, var(--timeline-glow), var(--timeline-blue));
        }
        
        .episodes-list::-webkit-scrollbar-track {
            background: rgba(41, 121, 255, 0.1);
            border-radius: 4px;
        }
        
        .episodes-list::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--lab-blue), var(--secondary-light));
            border-radius: 4px;
        }
        
        /* Улучшение для касаний на мобильных */
        @media (hover: none) and (pointer: coarse) {
            .tab-btn:hover {
                transform: none;
            }
            
            .stat-item:hover {
                transform: none;
            }
            
            .gallery-item:hover {
                transform: none;
            }
            
            .timeline-btn:hover {
                transform: none;
            }
            
            .episode-item:hover:not(.disabled) {
                transform: none;
            }
            
            .btn:hover {
                transform: none;
            }
            
            /* Увеличение областей клика для мобильных */
            .tab-btn,
            .stat-item,
            .episode-item,
            .timeline-btn,
            .btn {
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }
            
            .nav-links a {
                padding: 10px 5px;
                -webkit-tap-highlight-color: transparent;
            }
            
            /* Оптимизация плеера для тач-устройств */
            .episode-player {
                touch-action: manipulation;
            }
            
            .video-iframe {
                touch-action: pan-x pan-y pinch-zoom;
            }
        }
    </style>
</head>
<body>
    <!-- Бинарный фон с мировыми линиями -->
    <div class="binary-bg" id="binaryBg"></div>
    
    <!-- Частицы -->
    <div id="particles-js" class="particles-js"></div>
    
    <!-- Навигация -->
    <nav>
        <div class="container nav-container">
            <ul class="nav-links">
                <li><a href="#about">О персонаже</a></li>
                <li><a href="#achievements">Научные достижения</a></li>
                <li><a href="#timeline">Временная линия</a></li>
                <li><a href="#gallery">Галерея</a></li>
                <li><a href="#episodes">Серии</a></li>
            </ul>
        </div>
</nav>

<!-- Герой секция -->
<section class="hero">
    <div class="container hero-container">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="glitch" data-text="Макисэ Курису">Макисэ Курису</span>
            </h1>
            <p class="hero-subtitle">Гений-нейробиолог | Член Лаборатории Будущего</p>
            <p>Известный учёный в области нейробиологии, создатель "Машины скачков по памяти" и ключевой член Лаборатории Будущего.</p>
            <a href="#about" class="btn" style="margin-top: 30px;">Узнать больше</a>
        </div>
        <div class="hero-image">
            <div class="hero-bg-element"></div>
            <!-- На главной - kurisu.png -->
            <img src="https://i.postimg.cc/tCRgbBnx/kurisu.png" alt="Макисэ Курису" class="hero-character">
        </div>
    </div>
</section>

<!-- Секция "О персонаже" -->
<section id="about" class="about">
    <div class="container">
        <h2 class="section-title">О персонаже</h2>
        <div class="about-content">
            <div class="about-text">
                <p>Макисэ Курису (牧瀬 紅莉栖) — 18-летний гений в области нейробиологии, известная своими новаторскими исследованиями памяти человека. Несмотря на молодой возраст, она уже имеет публикации в ведущих научных журналах.</p>
                <p>Присоединившись к Лаборатории Будущего, она сыграла ключевую роль в разработке технологии путешествия во времени, создав "Машину скачков по памяти".</p>
                <p>По характеру Курису — классический цундере: внешне холодная и рациональная, но внутри добрая и заботливая. Она часто конфликтует с Окабэ Ринтаро, но в конечном итоге между ними развиваются глубокие чувства.</p>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value">18</div>
                        <div class="stat-label">Возраст</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">AB</div>
                        <div class="stat-label">Группа крови</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">25 июля</div>
                        <div class="stat-label">Дата рождения</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">Цундере</div>
                        <div class="stat-label">Тип личности</div>
                    </div>
                </div>
            </div>
            <div class="about-image">
                <!-- В разделе о персонаже - kurisu-lab.jpg -->
                <img src="https://i.postimg.cc/xTs11LLL/kurisu-lab.jpg" alt="Курису в лаборатории" class="hero-character">
            </div>
        </div>
    </div>
</section>

<!-- Секция "Научные достижения" -->
<section id="achievements" class="achievements">
    <div class="container">
        <h2 class="section-title">Научные достижения</h2>
        <div class="tabs-container">
            <div class="tabs-wrapper">
                <div class="tabs-header">
                    <button class="tab-btn active" data-tab="memory-jump">
                        <div class="tab-btn-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="tab-btn-title">Машина скачков по памяти</div>
                        <div class="tab-btn-info">
                            <div class="tab-btn-description">
                                Инновационное устройство для передачи воспоминаний в прошлое через квантовую телепортацию сознания. Ключевая технология Лаборатории Будущего.
                            </div>
                        </div>
                    </button>
                    
                    <button class="tab-btn" data-tab="neuro-research">
                        <div class="tab-btn-icon">
                            <i class="fas fa-flask"></i>
                        </div>
                        <div class="tab-btn-title">Нейробиологические исследования</div>
                        <div class="tab-btn-info">
                            <div class="tab-btn-description">
                                Прорыв в изучении нейропластичности и квантового кодирования памяти. Открытие механизма "временной волны" в гиппокампе.
                            </div>
                        </div>
                    </button>
                    
                    <button class="tab-btn" data-tab="time-travel">
                        <div class="tab-btn-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="tab-btn-title">Теория путешествий во времени</div>
                        <div class="tab-btn-info">
                            <div class="tab-btn-description">
                                Революционная теория мировых линий и временных парадоксов. Концепция "Притяжения мировой линии" и D-mail системы.
                            </div>
                        </div>
                    </button>
                    
                    <button class="tab-btn" data-tab="publications">
                        <div class="tab-btn-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="tab-btn-title">Научные публикации</div>
                        <div class="tab-btn-info">
                            <div class="tab-btn-description">
                                Публикации в ведущих научных журналах: Science, Nature Physics, PNAS, Cell. Международное признание исследований.
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Модальное окно для отображения контента -->
<div class="modal-overlay" id="modalOverlay"></div>

<div class="modal-content" id="modalContent">
    <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">Машина скачков по памяти</h3>
        <button class="close-modal" id="closeModal">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="modal-body">
        <div class="tab-content-inner" id="modalBody">
            <!-- Контент будет загружаться динамически -->
        </div>
    </div>
</div>

<!-- Секция "Временная линия" -->
<section id="timeline" class="timeline-section">
    <!-- Canvas с анимацией капель из файла АНИМАЦИЯ.html -->
    <canvas id="raindrop-canvas"></canvas>
    
    <!-- Затемнение фона -->
    <div class="timeline-overlay"></div>
    
    <!-- Мировые линии -->
    <div class="world-lines" id="worldLines"></div>
    
    <div class="container timeline-content">
        <h2 class="section-title">Временная линия</h2>
        
        <div class="timeline">
            <!-- Анимированный импульс -->
            <div class="timeline-pulse"></div>
            
            <!-- Событие 1 -->
            <div class="timeline-item">
                <button class="timeline-btn" data-event="event1">
                    <div class="timeline-date">
                        <i class="far fa-calendar"></i> 28 июля 2010 (Альфа-мир)
                    </div>
                    <p class="timeline-text">Первая встреча с Окабэ Ринтаро в лекционном зале Радиокан. Становится свидетельницей создания D-mail и начала временных экспериментов.</p>
                </button>
            </div>
            
            <!-- Событие 2 -->
            <div class="timeline-item">
                <button class="timeline-btn" data-event="event2">
                    <div class="timeline-date">
                        <i class="far fa-calendar"></i> Июль-Август 2010
                    </div>
                    <p class="timeline-text">Присоединяется к Лаборатории Будущего. Помогает усовершенствовать Микроволновку Банано в полноценную Машину времени.</p>
                </button>
            </div>
            
            <!-- Событие 3 -->
            <div class="timeline-item">
                <button class="timeline-btn" data-event="event3">
                    <div class="timeline-date">
                        <i class="far fa-calendar"></i> Август 2010 (Альфа-мир)
                    </div>
                    <p class="timeline-text">Создает "Машину скачков по памяти". Помогает Окабэ найти способ спасти Маюри от неизбежной гибели.</p>
                </button>
            </div>
            
            <!-- Событие 4 -->
            <div class="timeline-item">
                <button class="timeline-btn" data-event="event4">
                    <div class="timeline-date">
                        <i class="far fa-calendar"></i> Конец Августа 2010
                    </div>
                    <p class="timeline-text">Жертвует собой в Альфа-мире, чтобы Окабэ мог достичь Мировой линии Врат Штейна.</p>
                </button>
            </div>
            
            <!-- Событие 5 -->
            <div class="timeline-item">
                <button class="timeline-btn" data-event="event5">
                    <div class="timeline-date">
                        <i class="far fa-calendar"></i> Мир Врат Штейна
                    </div>
                    <p class="timeline-text">Воссоединяется с Окабэ в идеальной мирной линии, где оба спасены от своих судеб.</p>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Модальное окно для временной линии -->
<div class="timeline-modal-overlay" id="timelineModalOverlay"></div>

<div class="timeline-modal-content" id="timelineModalContent">
    <div class="timeline-modal-header">
        <h3 class="timeline-modal-title" id="timelineModalTitle">28 июля 2010 (Альфа-мир)</h3>
        <button class="timeline-close-modal" id="timelineCloseModal">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="timeline-modal-body">
        <div class="timeline-details" id="timelineModalBody">
            <!-- Контент будет загружаться динамически -->
        </div>
    </div>
</div>

<!-- Секция "Галерея" -->
<section id="gallery" class="gallery">
    <div class="container">
        <h2 class="section-title">Галерея</h2>
        <div class="gallery-grid">
            <div class="gallery-item">
                <!-- В галерее официальный арт - kurisu-6.jpg -->
                <img src="https://i.postimg.cc/rFhww55t/kurisu-6.jpg" alt="Официальный арт" class="gallery-img">
                <div class="gallery-caption">Официальный арт</div>
            </div>
            
            <div class="gallery-item">
                <!-- В галерее "В Лаборатории Будущего" - kurisu-2.png -->
                <img src="https://i.postimg.cc/RVC0mgJc/kurisu-2.png" alt="В Лаборатории Будущего" class="gallery-img">
                <div class="gallery-caption">В Лаборатории Будущего</div>
            </div>
            
            <div class="gallery-item">
                <!-- С Окабэ Ринтаро - kurisu-1.jpg -->
                <img src="https://i.postimg.cc/HsWLm68c/kurisu-1.jpg" alt="С Окабэ Ринтаро" class="gallery-img">
                <div class="gallery-caption">С Окабэ Ринтаро</div>
            </div>
            
            <div class="gallery-item">
                <!-- Научная работа - kurisu-3.jpg -->
                <img src="https://i.postimg.cc/9FXf2Lwq/kurisu-3.jpg" alt="Научная работа" class="gallery-img">
                <div class="gallery-caption">Научная работа</div>
            </div>
            
            <div class="gallery-item">
                <!-- Цундере режим - kurisu-5.jpg -->
                <img src="https://i.postimg.cc/YqXCCQQF/kurisu-5.jpg" alt="Цундере режим" class="gallery-img">
                <div class="gallery-caption">Цундере режим</div>
            </div>
            
            <div class="gallery-item">
                <!-- В Акихабаре - kurisu-4.jpg -->
                <img src="https://i.postimg.cc/5N9tJsQz/kurisu-4.jpg" alt="В Акихабаре" class="gallery-img">
                <div class="gallery-caption">В Акихабаре</div>
            </div>
        </div>
    </div>
</section>

<!-- Секция с плеером серий - ИСПРАВЛЕННАЯ -->
<section id="episodes" class="episodes-section">
    <div class="container episodes-container">
        <h2 class="episodes-title">Первый сезон Врата Штейна</h2>
        
        <div class="episodes-content">
            <div class="episode-player-container">
                <div class="episode-player">
                    <!-- Используем прямой iframe для Google Drive -->
                    <div class="video-iframe-container">
                        <iframe 
                            id="videoFrame"
                            class="video-iframe"
                            src=""
                            allow="autoplay; encrypted-media; picture-in-picture"
                            allowfullscreen
                            frameborder="0">
                        </iframe>
                    </div>
                    <div class="video-loading" id="videoLoading">
                        <div class="loading-spinner">
                            <i class="fas fa-sync fa-spin"></i>
                        </div>
                        <p>Загрузка видео...</p>
                    </div>
                </div>
            </div>
            
            <div class="episodes-list">
                <h3 class="episodes-list-title">Список серий</h3>
                
                <!-- Серия 1 -->
                <div class="episode-item active" data-episode="1" data-video-id="1tiN_ly3Mh82I2zExRLLm83zNWeLZiMQN">
                    <div class="episode-number">01</div>
                    <div class="episode-name">Начало и конец</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 2 -->
                <div class="episode-item" data-episode="2" data-video-id="1DS-G2352S51OHCTa5Ic2EcAc7A0dXsze">
                    <div class="episode-number">02</div>
                    <div class="episode-name">Параноидальный разрыв</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 3 -->
                <div class="episode-item disabled" data-episode="3">
                    <div class="episode-number">03</div>
                    <div class="episode-name">Параллетический монетизм</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 4 -->
                <div class="episode-item disabled" data-episode="4">
                    <div class="episode-number">04</div>
                    <div class="episode-name">Искривление интерпретации</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 5 -->
                <div class="episode-item disabled" data-episode="5">
                    <div class="episode-number">05</div>
                    <div class="episode-name">Вектор столкновения</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 6 -->
                <div class="episode-item disabled" data-episode="6">
                    <div class="episode-number">06</div>
                    <div class="episode-name">Дивергенция дивергенции</div>
                    <div class="episode-duration">24 мин</div>
                </div>
                
                <!-- Серия 7 -->
                <div class="episode-item disabled" data-episode="7">
                    <div class="episode-number">07</div>
                    <div class="episode-name">Трансцендентальное деление</div>
                    <div class="episode-duration">24 мин</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Футер -->
<footer>
    <div class="container">
        <div class="footer-content">
            <div class="lab-badge">Лаборатория Будущего №008</div>
            <p>Официальный сайт-визитка Макисэ Курису</p>
            <p>Исследования в области нейробиологии и временных технологий</p>
            <div class="el-psy-congroo">El Psy Congroo</div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
    // Инициализация частиц для фона
    particlesJS('particles-js', {
        particles: {
            number: { value: 80, density: { enable: true, value_area: 800 } },
            color: { value: "#c62828" },
            shape: { type: "circle" },
            opacity: { value: 0.5, random: true },
            size: { value: 3, random: true },
            line_linked: {
                enable: true,
                distance: 150,
                color: "#1a237e",
                opacity: 0.4,
                width: 1
            },
            move: {
                enable: true,
                speed: 2,
                direction: "none",
                random: true,
                straight: false,
                out_mode: "out",
                bounce: false
            }
        },
        interactivity: {
            detect_on: "canvas",
            events: {
                onhover: { enable: true, mode: "repulse" },
                onclick: { enable: true, mode: "push" }
            }
        }
    });
    
    // Плавная прокрутка для навигации
    document.querySelectorAll('nav a').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Бинарный фон
    const binaryBg = document.getElementById('binaryBg');
    const chars = '01';
    const worldLines = [];
    
    for (let i = 0; i < 50; i++) {
        const worldLine = document.createElement('div');
        worldLine.className = 'world-line';
        worldLine.style.left = Math.random() * 100 + 'vw';
        worldLine.style.top = Math.random() * 100 + 'vh';
        worldLine.textContent = 'МИРОВАЯ ЛИНИЯ ' + Math.floor(Math.random() * 1000000);
        worldLine.style.opacity = Math.random() * 0.5 + 0.1;
        binaryBg.appendChild(worldLine);
        worldLines.push(worldLine);
    }
    
    // Анимация мировых линий
    function animateWorldLines() {
        worldLines.forEach(line => {
            line.style.top = (parseFloat(line.style.top) + 0.1) + 'vh';
            if (parseFloat(line.style.top) > 100) {
                line.style.top = '-10vh';
                line.style.left = Math.random() * 100 + 'vw';
            }
        });
        requestAnimationFrame(animateWorldLines);
    }
    
    animateWorldLines();
    
    // ===========================================
    // ДАННЫЕ ДЛЯ ВСЕХ СЕКЦИЙ
    // ===========================================

    // Данные для научных достижений
    const tabData = {
        'memory-jump': {
            title: 'Машина скачков по памяти',
            content: `
                <div class="achievement-details">
                    <p class="achievement-description">
                        Инновационное устройство, позволяющее передавать воспоминания из настоящего в прошлое, 
                        фактически осуществляя ограниченное путешествие во времени через сознание человека.
                    </p>
                    <ul class="achievement-features">
                        <li>Использует принцип квантовой телепортации сознания</li>
                        <li>Работает через систему LHC (отправка данных в прошлое)</li>
                        <li>Модифицирована из микроволновой печи с добавлением неон-лазерных диодов</li>
                        <li>Требует точных временных координат и волновых функций мозга</li>
                        <li>Создана в сотрудничестве с Окабэ Ринтаро и лабораторией будущего</li>
                    </ul>
                </div>
                <div class="achievement-visual">
                    <img src="https://i.postimg.cc/YqXCCQQD/Schematic-representation-of-the-device.webp" alt="Схематическое изображение устройства">
                    <div class="visual-label">Схематическое изображение устройства</div>
                </div>
            `
        },
        'neuro-research': {
            title: 'Нейробиологические исследования',
            content: `
                <div class="achievement-details">
                    <p class="achievement-description">
                        Прорывные исследования в области нейропластичности и кодирования памяти, 
                        заложившие теоретическую основу для технологии скачков по памяти.
                    </p>
                    <ul class="achievement-features">
                        <li>Открытие механизма "временной волны" в гиппокампе</li>
                        <li>Исследование нейронных коррелятов дежавю</li>
                        <li>Разработка модели квантового кодирования воспоминаний</li>
                        <li>Теория о существовании "хронологических нейронов"</li>
                        <li>Эксперименты по стиранию и восстановлению памяти</li>
                    </ul>
                </div>
                <div class="achievement-visual">
                    <img src="https://i.postimg.cc/zXdGGTTj/Map-of-the-hippocampus-neural-connections.jpg" alt="Карта нейронных связей гиппокампа">
                    <div class="visual-label">Карта нейронных связей гиппокампа</div>
                </div>
            `
        },
        'time-travel': {
            title: 'Теория путешествий во времени',
            content: `
                <div class="achievement-details">
                    <p class="achievement-description">
                        Революционная теория, объединяющая квантовую механику с концепцией мировых линий, 
                        объясняющая парадоксы временных путешествий и предлагающая практическую реализацию.
                    </p>
                    <ul class="achievement-features">
                        <li>Концепция "Притяжения мировой линии" (World Line Attraction Field)</li>
                        <li>Теория конвергенции мировых линий в точках дивергенции</li>
                        <li>Математическое описание временных парадоксов и их разрешений</li>
                        <li>Модель квантового туннелирования через временные барьеры</li>
                        <li>Практическая реализация через отправку D-mail (D-писем)</li>
                    </ul>
                </div>
                <div class="achievement-visual">
                    <img src="https://i.postimg.cc/Dyfzhx48/Diagram-of-world-lines-and-time-branches.jpg" alt="Диаграмма мировых линий и временных разветвлений">
                    <div class="visual-label">Диаграмма мировых линий и временных разветвлений</div>
                </div>
            `
        },
        'publications': {
            title: 'Научные публикации',
            content: `
                <div class="achievement-details">
                    <p class="achievement-description">
                        Несмотря на молодой возраст, Макисэ Курису опубликовала несколько важных научных работ, 
                        получивших международное признание в академических кругах.
                    </p>
                    <ul class="achievement-features">
                        <li>"Квантовая природа памяти: Нейронные основы временного кодирования" (Science, 2009)</li>
                        <li>"Возможность манипуляции мировыми линиями через квантовые возмущения" (Nature Physics, 2010)</li>
                        <li>"Экспериментальное подтверждение существования Reading Steiner" (PNAS, 2010)</li>
                        <li>"Практическая реализация ограниченного временного путешествия через LHC" (Cell, 2011)</li>
                        <li>"Машина скачков по памяти: от теории к практике" (совместно с Окабэ Р., 2011)</li>
                    </ul>
                </div>
                <div class="achievement-visual">
                    <img src="https://i.postimg.cc/TY2Pxt5K/Covers-of-scientific-journals-with-Kurisu-s-publications.jpg" alt="Обложки научных журналов с публикациями Курису">
                    <div class="visual-label">Обложки научных журналов с публикациями Курису</div>
                </div>
            `
        }
    };

    // Данные для временной линии
    const timelineEvents = {
        'event1': {
            title: '28 июля 2010 (Альфа-мир)',
            content: `
                <div class="timeline-description">
                    <p class="timeline-full-description">
                        Судьбоносная встреча Макисэ Курису с Окабэ Ринтаро в лекционном зале Радиокан. 
                        Курису прибыла в Японию для выступления на научной конференции, где представляла свои 
                        исследования в области нейробиологии. В этот же день происходит первое столкновение 
                        с парадоксами времени.
                    </p>
                    <p class="timeline-full-description">
                        Курису становится невольной свидетельницей отправки первого D-mail (D-письма) - 
                        сообщения в прошлое, которое изменяет мировую линию. Это событие запускает цепь 
                        временных экспериментов и приводит к созданию Лаборатории Будущего.
                    </p>
                    <ul class="timeline-features">
                        <li>Первая встреча Курису и Окабэ в лекционном зале</li>
                        <li>Отправка первого D-mail (сообщение о поимке майора)</li>
                        <li>Смена мировой линии с Beta на Alpha</li>
                        <li>Начало временных экспериментов</li>
                        <li>Обнаружение феномена Reading Steiner у Окабэ</li>
                    </ul>
                </div>
                <div class="timeline-visual">
                    <img src="https://i.postimg.cc/8PyzzLLh/Radiokan-Lecture-Hall-the-place-of-the-first-meeting.webp" alt="Лекционный зал Радиокан">
                    <div class="timeline-visual-label">Лекционный зал Радиокан, место первой встречи</div>
                </div>
            `
        },
        'event2': {
            title: 'Июль-Август 2010',
            content: `
                <div class="timeline-description">
                    <p class="timeline-full-description">
                        Курису официально присоединяется к Лаборатории Будущего в роли главного научного 
                        консультанта. Её экспертиза в области нейробиологии становится ключевой для понимания 
                        механизмов временных путешествий.
                    </p>
                    <p class="timeline-full-description">
                        Совместно с членами лаборатории, Курису помогает усовершенствовать обычную микроволновую 
                        печь ("Микроволновка Банано") в полноценную машину времени. Она разрабатывает теорию 
                        мировых линий и начинает работу над "Машиной скачков по памяти".
                    </p>
                    <ul class="timeline-features">
                        <li>Официальное вступление в Лабораторию Будущего</li>
                        <li>Модификация микроволновки в машину времени</li>
                        <li>Разработка теории мировых линий</li>
                        <li>Начало работы над Memory Leap Machine</li>
                        <li>Установление связи с SERN</li>
                    </ul>
                </div>
                <div class="timeline-visual">
                    <img src="https://i.postimg.cc/hPCttVVY/The-Future-Laboratory-a-place-for-experiments.jpg" alt="Лаборатория Будущего">
                    <div class="timeline-visual-label">Лаборатория Будущего, место проведения экспериментов</div>
                </div>
            `
        },
        'event3': {
            title: 'Август 2010 (Альфа-мир)',
            content: `
                <div class="timeline-description">
                    <p class="timeline-full-description">
                        Курису завершает разработку "Машины скачков по памяти" - революционного устройства, 
                        позволяющего передавать воспоминания из настоящего в прошлое. Эта технология становится 
                        ключевым инструментом для спасения Маюри Сиины от неизбежной гибели.
                    </p>
                    <p class="timeline-full-description">
                        Вместе с Окабэ, Курису проводит серию опасных экспериментов по изменению мировой линии, 
                        пытаясь найти путь к Мировой линии Врат Штейна - идеальной временной линии, где все главные герои 
                        остаются живы и счастливы.
                    </p>
                    <ul class="timeline-features">
                        <li>Завершение разработки Memory Leap Machine</li>
                        <li>Попытки спасения Маюри от Convergence</li>
                        <li>Открытие принципа Attractor Field</li>
                        <li>Эксперименты с Reading Steiner</li>
                        <li>Обнаручение временных парадоксов</li>
                    </ul>
                </div>
                <div class="timeline-visual">
                    <img src="https://i.postimg.cc/9FxQQyyx/Schematic-representation-of-the-Memory-Leap-Machine.jpg" alt="Машина скачков по памяти">
                    <div class="timeline-visual-label">Схематическое изображение Memory Leap Machine</div>
                </div>
            `
        },
        'event4': {
            title: 'Конец Августа 2010',
            content: `
                <div class="timeline-description">
                    <p class="timeline-full-description">
                        В кульминационный момент временного противостояния, Курису жертвует собой в 
                        Альфа-мире, чтобы Окабэ мог достичь Мировой линии Врат Штейна. Её смерть становится необходимым 
                        условием для изменения мировой линии и спасения всех остальных.
                    </p>
                    <p class="timeline-full-description">
                        Это самопожертвование демонстрирует глубину чувств Курису к Окабэ и её готовность 
                        пожертвовать собой ради достижения лучшего будущего. Её смерть оставляет глубокий 
                        след в сознании Окабэ и становится движущей силой для его дальнейших действий.
                    </p>
                    <ul class="timeline-features">
                        <li>Самопожертвование Курису в Альфа-мире</li>
                        <li>Переход в Beta мировую линию</li>
                        <li>Начало операции по достижению Мировой линии Врат Штейна</li>
                        <li>Воспоминания Окабэ о "мертвой" Курису</li>
                        <li>Подготовка к финальной временной операции</li>
                    </ul>
                </div>
                <div class="timeline-visual">
                    <img src="https://i.postimg.cc/BQZv3mPv/A-tragic-moment-of-self-sacrifice.jpg" alt="Трагический момент">
                    <div class="timeline-visual-label">Трагический момент самопожертвования</div>
                </div>
            `
        },
        'event5': {
            title: 'Мир Врат Штейна',
            content: `
                <div class="timeline-description">
                    <p class="timeline-full-description">
                        После успешного достижения Мировой линии Врат Штейна, Курису воссоединяется с 
                        Окабэ в идеальном мире, где оба спасены от своих трагических судеб. В этой линии 
                        времени Курису никогда не была убита, а Окабэ сохранил воспоминания о всех 
                        предыдущих мировых линиях.
                    </p>
                    <p class="timeline-full-description">
                        Курису продолжает свои научные исследования в области нейробиологии, теперь с 
                        практическим опытом временных путешествий. Её отношения с Окабэ развиваются, и 
                        вместе они продолжают работать над новыми научными открытиями в мирных условиях.
                    </p>
                    <ul class="timeline-features">
                        <li>Воссоединение Курису и Окабэ в Мире Врат Штейна</li>
                        <li>Сохранение воспоминаний о всех мировых линиях</li>
                        <li>Продолжение научных исследований</li>
                        <li>Развитие отношений между персонажами</li>
                        <li>Мирная жизнь без временных угроз</li>
                    </ul>
                </div>
                <div class="timeline-visual">
                    <img src="https://i.postimg.cc/c4DLLff2/The-ideal-peaceful-line-of-the-Stein-Gate.jpg" alt="Мир Врат Штейна">
                    <div class="timeline-visual-label">Идеальная мирная линия Врат Штейна</div>
                </div>
            `
        }
    };

    // ===========================================
    // ОСНОВНОЙ КОД
    // ===========================================
    
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Сайт Макисэ Курису загружен!');
        
        // ===========================================
        // 1. НАУЧНЫЕ ДОСТИЖЕНИЯ
        // ===========================================
        const tabButtons = document.querySelectorAll('.tab-btn');
        const modalOverlay = document.getElementById('modalOverlay');
        const modalContent = document.getElementById('modalContent');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const closeModal = document.getElementById('closeModal');
        
        function openModal(tabId) {
            const data = tabData[tabId];
            if (!data) return;
            
            modalTitle.textContent = data.title;
            modalBody.innerHTML = data.content;
            
            document.body.style.overflow = 'hidden';
            modalOverlay.classList.add('active');
            modalContent.classList.add('active');
            
            const activeButton = document.querySelector(`.tab-btn[data-tab="${tabId}"]`);
            if (activeButton) {
                activeButton.style.animation = 'buttonPress 0.4s ease';
                setTimeout(() => {
                    activeButton.style.animation = '';
                }, 400);
                
                tabButtons.forEach(btn => btn.classList.remove('active'));
                activeButton.classList.add('active');
            }
        }
        
        function closeModalWindow() {
            document.body.style.overflow = '';
            modalOverlay.classList.remove('active');
            modalContent.classList.remove('active');
        }
        
        tabButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                openModal(tabId);
            });
        });
        
        closeModal.addEventListener('click', closeModalWindow);
        modalOverlay.addEventListener('click', closeModalWindow);
        
        // ===========================================
        // 2. ВРЕМЕННАЯ ЛИНИЯ
        // ===========================================
        const timelineButtons = document.querySelectorAll('.timeline-btn');
        const timelineModalOverlay = document.getElementById('timelineModalOverlay');
        const timelineModalContent = document.getElementById('timelineModalContent');
        const timelineModalTitle = document.getElementById('timelineModalTitle');
        const timelineModalBody = document.getElementById('timelineModalBody');
        const timelineCloseModal = document.getElementById('timelineCloseModal');
        
        function openTimelineModal(eventId) {
            const eventData = timelineEvents[eventId];
            if (!eventData) return;
            
            timelineModalTitle.textContent = eventData.title;
            timelineModalBody.innerHTML = eventData.content;
            
            document.body.style.overflow = 'hidden';
            timelineModalOverlay.classList.add('active');
            timelineModalContent.classList.add('active');
            
            const activeButton = document.querySelector(`.timeline-btn[data-event="${eventId}"]`);
            if (activeButton) {
                activeButton.style.animation = 'buttonPress 0.4s ease';
                setTimeout(() => {
                    activeButton.style.animation = '';
                }, 400);
            }
        }
        
        function closeTimelineModal() {
            document.body.style.overflow = '';
            timelineModalOverlay.classList.remove('active');
            timelineModalContent.classList.remove('active');
        }
        
        timelineButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                const eventId = this.getAttribute('data-event');
                openTimelineModal(eventId);
            });
        });
        
        timelineCloseModal.addEventListener('click', closeTimelineModal);
        timelineModalOverlay.addEventListener('click', closeTimelineModal);
        
        // ===========================================
        // 3. ПЛЕЕР СЕРИЙ - ИСПРАВЛЕННЫЙ
        // ===========================================
        const episodeItems = document.querySelectorAll('.episode-item:not(.disabled)');
        const videoFrame = document.getElementById('videoFrame');
        const videoLoading = document.getElementById('videoLoading');
        
        // Улучшенная функция для получения URL Google Drive
        function getGoogleDriveVideoUrl(fileId) {
            // Используем прямой iframe с preview для видео
            return `https://drive.google.com/file/d/${fileId}/preview`;
        }
        
        // Анимация загрузки
        function showLoading() {
            if (videoLoading) {
                videoLoading.style.display = 'flex';
            }
            if (videoFrame) {
                videoFrame.style.opacity = '0.5';
            }
        }
        
        function hideLoading() {
            if (videoLoading) {
                videoLoading.style.display = 'none';
            }
            if (videoFrame) {
                videoFrame.style.opacity = '1';
            }
        }
        
        // Загружаем первую серию
        const firstEpisode = document.querySelector('.episode-item.active');
        if (firstEpisode && videoFrame) {
            const firstVideoId = firstEpisode.getAttribute('data-video-id');
            if (firstVideoId) {
                showLoading();
                videoFrame.src = getGoogleDriveVideoUrl(firstVideoId);
                
                // Скрываем загрузку после загрузки видео
                videoFrame.onload = function() {
                    setTimeout(hideLoading, 1000);
                };
                
                // На всякий случай скрываем через 5 секунд максимум
                setTimeout(hideLoading, 5000);
            }
        }
        
        // Переключение серий
        episodeItems.forEach(item => {
            item.addEventListener('click', function() {
                if (this.classList.contains('disabled')) return;
                
                const videoId = this.getAttribute('data-video-id');
                
                episodeItems.forEach(item => item.classList.remove('active'));
                this.classList.add('active');
                
                if (videoId && videoFrame) {
                    showLoading();
                    videoFrame.src = getGoogleDriveVideoUrl(videoId);
                    
                    // Скрываем загрузку после загрузки видео
                    videoFrame.onload = function() {
                        setTimeout(hideLoading, 1000);
                    };
                    
                    // На всякий случай скрываем через 5 секунд максимум
                    setTimeout(hideLoading, 5000);
                }
                
                if (window.innerWidth < 768) {
                    document.getElementById('episodes').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // ===========================================
        // 4. АНИМАЦИИ И ЭФФЕКТЫ
        // ===========================================
        
        // Анимация появления элементов
        const animateOnScroll = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        
        // Анимируем элементы временной линии
        const timelineItems = document.querySelectorAll('.timeline-item');
        timelineItems.forEach((item, index) => {
            animateOnScroll.observe(item);
            
            setTimeout(() => {
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
                item.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            }, 300 + (index * 200));
        });
        
        // Анимация кнопок достижений
        tabButtons.forEach((btn, index) => {
            btn.style.opacity = '0';
            btn.style.transform = 'translateY(30px)';
            
            setTimeout(() => {
                btn.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                btn.style.opacity = '1';
                btn.style.transform = 'translateY(0)';
            }, 200 + (index * 100));
        });
        
        // Анимация карточек галереи
        const galleryItems = document.querySelectorAll('.gallery-item');
        galleryItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                item.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                item.style.opacity = '1';
                item.style.transform = 'scale(1)';
            }, 300 + (index * 100));
        });
        
        // ===========================================
        // 5. ОБРАБОТКА КЛАВИШ
        // ===========================================
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (timelineModalOverlay.classList.contains('active')) {
                    closeTimelineModal();
                } else if (modalOverlay.classList.contains('active')) {
                    closeModalWindow();
                }
            }
        });
        
        // ===========================================
        // 6. АНИМАЦИЯ КАПЕЛЬ ДЛЯ ВРЕМЕННОЙ ЛИНИИ
        // ===========================================
        const canvas = document.getElementById('raindrop-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            let w = canvas.width = window.innerWidth;
            let h = canvas.height = window.innerHeight;
            const clearColor = 'rgba(10, 10, 18, 0.05)';
            const max = 35;
            const drops = [];

            function random(min, max) {
                return Math.random() * (max - min) + min;
            }

            function Raindrop() {}

            Raindrop.prototype = {
                init: function() {
                    this.x = random(0, w);
                    this.y = random(-200, -50);
                    this.color = `hsla(${random(180, 200)}, 100%, ${random(50, 70)}%, 0.7)`;
                    this.vy = random(5, 10);
                    this.size = random(1.5, 3);
                    this.length = random(36, 60);
                },
                
                draw: function() {
                    ctx.fillStyle = this.color;
                    ctx.shadowBlur = 22;
                    ctx.shadowColor = this.color;
                    
                    // Рисуем вытянутую каплю с градиентом
                    const gradient = ctx.createLinearGradient(
                        this.x, this.y,
                        this.x, this.y + this.length
                    );
                    gradient.addColorStop(0, this.color.replace('0.7)', '0.9)'));
                    gradient.addColorStop(0.7, this.color.replace('0.7)', '0.5)'));
                    gradient.addColorStop(1, this.color.replace('0.7)', '0.2)'));
                    
                    ctx.beginPath();
                    ctx.moveTo(this.x, this.y);
                    ctx.lineTo(this.x, this.y + this.length);
                    ctx.lineWidth = this.size;
                    ctx.strokeStyle = gradient;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                    
                    // Рисуем округлость на конце капли
                    ctx.beginPath();
                    ctx.arc(this.x, this.y + this.length, this.size * 1.1, 0, Math.PI * 2);
                    ctx.fillStyle = gradient;
                    ctx.fill();
                    
                    // Легкое свечение у верхней части капли
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size/1.3, 0, Math.PI * 2);
                    ctx.fillStyle = this.color.replace('0.7)', '0.5)');
                    ctx.fill();
                    
                    ctx.shadowBlur = 0;
                    this.update();
                },
                
                update: function() {
                    this.y += this.vy;
                    
                    // Если капля ушла за нижнюю границу экрана, перезапускаем ее сверху
                    if (this.y > h + 50) {
                        this.init();
                        this.y = random(-200, -50);
                        this.length = random(36, 60);
                    }
                }
            };

            function resize() {
                w = canvas.width = window.innerWidth;
                h = canvas.height = window.innerHeight;
                
                // При изменении размера окна пересоздаем капли
                drops.length = 0;
                setup();
            }

            function setup() {
                for (let i = 0; i < max; i++) {
                    const drop = new Raindrop();
                    drop.init();
                    // Распределяем капли по всей высоте
                    drop.y = random(-h, h);
                    drops.push(drop);
                }
            }

            function animate() {
                // Более прозрачный фон для эффекта шлейфа
                ctx.fillStyle = 'rgba(10, 10, 18, 0.07)';
                ctx.fillRect(0, 0, w, h);
                
                for (let i = 0; i < drops.length; i++) {
                    drops[i].draw();
                }
                
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', resize);
            setup();
            animate();
        }
        
        // ===========================================
        // 7. ФИНАЛЬНАЯ ПРОВЕРКА
        // ===========================================
        console.log('Все системы работают!');
        console.log('Доступные функции:');
        console.log('- Научные достижения: клик по карточкам');
        console.log('- Временная линия: клик по событиям');
        console.log('- Плеер серий: переключение между эпизодами');
        console.log('- Галерея: наведение для эффектов');
        
        // Адаптация для мобильных устройств
        function handleMobileResize() {
            if (window.innerWidth < 768) {
                // Оптимизации для мобильных
                document.querySelectorAll('.timeline-btn').forEach(btn => {
                    btn.style.transform = 'none';
                });
            }
        }
        
        window.addEventListener('resize', handleMobileResize);
        handleMobileResize();
    });
</script>
</body>
</html>
